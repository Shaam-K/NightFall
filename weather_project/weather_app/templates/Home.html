<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nightfall-Home</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans+Condensed:wght@300&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@300;400&family=Open+Sans&family=Open+Sans+Condensed:wght@300&family=Rubik:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Metrophobic&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.0/chart.min.js"></script>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/bars.css' %}"> 
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/search.css' %}">
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/comp_temp.css' %}">
</head>
<body>
    <div class="w3-bar w3-block">
        <div class="nav">
        <a href="#" class="w3-bar-item w3-left" style="font-size: 2.5em; font-family: 'Rubik', sans-serif;">{% load static %} <img src="{% static 'icons/logo.svg' %}" style="width: 5rem;"/>Nightfall</a>
        <a href="#" class="w3-bar-item w3-right" style="font-size: 2em; font-family: 'Rubik', sans-serif;">Login {% load static %} <img src="{% static 'icons/account.svg' %}" class = "bars" style="width: 4rem; padding-bottom: 0.5rem"/></a>
        <input type="checkbox" id="active">
      <label for="active" class="menu-btn"><i class="fas fa-bars"></i></label>
      <div class="wrapper" style="font-family: 'Metrophobic', sans-serif;">
         <ul>
            <li><a href="#">Login</a></li>
            <li><a href="#">Weather</a></li>
            <li><a href="#">Weather</a></li>
            <li><a href="#">Air Quality</a></li>
            <li><a href="#">Maps</a></li>
         </ul>
      </div>
        </div>
    </div>
    <div class="w3-center" style="margin-top: 5rem;">
    <form method="POST" id="location_form">
        {% csrf_token %}
        <input type="text" id="location" name="enter" placeholder="Enter Location">
        <input type="submit" id="submit" value="search" style="margin-left: 0.5rem;">
    </form>
    </div>
    <div class="w3-center" style="margin-top: 10rem;">
        <div class="responsive">
            <a href="#" class="w3-bar-item w3-hover-text-indigo" style="font-family: 'Metrophobic', sans-serif; font-size: 2em; margin-right: 3rem">{% load static %} <img src="{% static 'icons/weather.svg' %}" style="width:3rem; margin-bottom: 0.5rem; padding-right: 0.3rem;">Weather</a>
            <a href="#" class="w3-bar-item w3-hover-text-indigo" style="font-family: 'Metrophobic', sans-serif; font-size: 2em;">{% load static %} <img src="{% static 'icons/air.svg' %}" style="width:3rem; margin-bottom: 0.5rem;"> Air Quality</a>
            <a href="#" class="w3-bar-item w3-hover-text-indigo" style="font-family: 'Metrophobic', sans-serif; font-size: 2em; margin-left: 3.5rem;">{% load static %} <img src="{% static 'icons/maps.svg' %}" style="width:3rem; margin-bottom: 0.5rem;"> Maps</a>  
        </div>
    </div>
    {% for item in final_data %}
    <canvas id="comp_temp" style="position: relative; height:10vh; width:30vh"></canvas>
    {% load static %}
    <script>
    var display_graph =  document.getElementById('comp_temp').getContext('2d');
    var min_max = new Chart(display_graph, {
    type: 'bar',
    data : {
            labels: ['Min Temp', 'Max Temp'],
            datasets: [{
                barPercentage: 0.3,
                data : [
                '{{ item.temp_min }}', 
                '{{ item.temp_max }}',
            ],
                backgroundColor: [
                    'rgba(77, 77, 255, 0.5)',
                    'rgba(230, 57, 70, 0.5)',      
                ],
                borderColor: [
                    '#3377ff',
                    '#ff3333'
                ],
                borderWidth: 3
            }]
        },
        options: {
            plugins: {
                title: {
                display: true,
                text: 'Temperature Comparision :',
                align : 'center',
                    font : {
                        size : 30,
                        family : 'Metrophobic',
                    }
                },
                legend : {
                    display : false
                },
            }
        },
    })
    </script>
    
    {% endfor %}
</body>
</html>